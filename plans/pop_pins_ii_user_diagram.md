# PopPins II - User Diagram

**프로젝트**: PopPins II (어딧세이 가제)  
**문서 타입**: User Diagrams & Interaction Flow  
**버전**: 1.9.0  
**작성일**: 2025-11-22  
**최종 업데이트**: 2025-11-26

---

## 📋 목차

1. [사용자 페르소나 다이어그램](#1-사용자-페르소나-다이어그램)
2. [사용자 여정 맵 (User Journey Map)](#2-사용자-여정-맵-user-journey-map)
3. [사용자 상호작용 흐름도](#3-사용자-상호작용-흐름도)
4. [사용자 역할 및 권한](#4-사용자-역할-및-권한)

---

## 1. 사용자 페르소나 다이어그램

### 페르소나 분류

```mermaid
graph TD
    Users[PopPins II 사용자] --> Primary[주 사용자<br/>파이썬 학습자]
    Users --> Secondary[부 사용자<br/>교육 관련자]
    
    Primary --> P1[초급 학습자<br/>중학생~대학생]
    Primary --> P2[중급 학습자<br/>직장인/리스킬링]
    
    Secondary --> S1[교사/강사<br/>교육 자료 제작]
    Secondary --> S2[자습 지원자<br/>학습 멘토/부모]
    
    style Primary fill:#4A90E2,color:#fff
    style Secondary fill:#7ED321,color:#fff
```

### 페르소나 1: 수진 (대학생, 23세) 🎓

```
┌─────────────────────────────────────────────┐
│           페르소나: 수진                     │
│  "짧은 시간, 필요한 내용을 학습"             │
├─────────────────────────────────────────────┤
│ 📊 Demographics                             │
│  - 나이: 23세                                │
│  - 직업: 대학생 (생명과학 전공)               │
│  - 교육: 대학교 3학년                         │
│                                              │
│ 🎯 Goals                                    │
│  - 중간고사 전 3일 내 확률/통계 복습          │
│  - AI 수업을 위한 기초 수학 개념 정리         │
│  - 비전공자도 이해할 수 있는 설명 필요        │
│                                              │
│ 😟 Pain Points                              │
│  - 시간 부족 (3일밖에 없음)                   │
│  - 비전공자라 기초 개념도 헷갈림              │
│  - 어디서부터 공부해야 할지 모름              │
│                                              │
│ 💡 Needs                                    │
│  - 핵심 개념만 빠르게 정리                    │
│  - 단계별 학습 가이드                         │
│  - 실습 문제로 이해도 체크                    │
│                                              │
│ 🖥️ Tech Savviness: ⭐⭐⭐⭐☆              │
│ 📱 Devices: 노트북, 스마트폰                 │
└─────────────────────────────────────────────┘
```

### 페르소나 2: 민수 (직장인, 31세) 💼

```
┌─────────────────────────────────────────────┐
│           페르소나: 민수                     │
│  "빠른 기간 안에 팀 단위 리스킬링"           │
├─────────────────────────────────────────────┤
│ 📊 Demographics                             │
│  - 나이: 31세                                │
│  - 직업: 소프트웨어 엔지니어                  │
│  - 팀: 5명 규모 개발팀                        │
│                                              │
│ 🎯 Goals                                    │
│  - Delphi 레거시 시스템 유지보수 학습         │
│  - 팀 전체 교육 자료 제작 (1개월 내)          │
│  - 실무 적용 가능한 예제 확보                 │
│                                              │
│ 😟 Pain Points                              │
│  - 팀 내 Delphi 경험자 없음                   │
│  - 기존 자료가 오래되고 산발적               │
│  - 시간 압박 (다음 달까지 교육 완료)         │
│                                              │
│ 💡 Needs                                    │
│  - 체계적인 커리큘럼                          │
│  - 팀원 각자 레벨에 맞는 학습 자료            │
│  - 실무 예제 및 프로젝트 기반 학습            │
│                                              │
│ 🖥️ Tech Savviness: ⭐⭐⭐⭐⭐              │
│ 📱 Devices: 업무용 노트북, 태블릿            │
└─────────────────────────────────────────────┘
```

### 페르소나 3: 윤지 (교사, 35세) 👩‍🏫

```
┌─────────────────────────────────────────────┐
│           페르소나: 윤지                     │
│  "공교육 내 실습형 AI 콘텐츠 설계"           │
├─────────────────────────────────────────────┤
│ 📊 Demographics                             │
│  - 나이: 35세                                │
│  - 직업: 중학교 도덕 교사                     │
│  - 추가 업무: 방과후 수업 담당               │
│                                              │
│ 🎯 Goals                                    │
│  - AI 윤리 교육 과정 개발 (1학기 분량)       │
│  - 한국어로 된 실습형 교육 자료 확보          │
│  - 학생들이 쉽게 따라할 수 있는 구조         │
│                                              │
│ 😟 Pain Points                              │
│  - 기존 AI 윤리 교재 부족                     │
│  - 대부분 영어 자료                           │
│  - 중학생 수준에 맞는 실습 자료 부재         │
│                                              │
│ 💡 Needs                                    │
│  - 한 학기 커리큘럼 (12~16주)                │
│  - 중학생 눈높이 설명                         │
│  - 실습 가능한 예제 및 활동                  │
│                                              │
│ 🖥️ Tech Savviness: ⭐⭐⭐☆☆              │
│ 📱 Devices: 학교 PC, 개인 노트북             │
└─────────────────────────────────────────────┘
```

### 페르소나 4: 준호 (중학생, 14세) 🎒

```
┌─────────────────────────────────────────────┐
│           페르소나: 준호                     │
│  "지역 교육 격차 극복"                       │
├─────────────────────────────────────────────┤
│ 📊 Demographics                             │
│  - 나이: 14세                                │
│  - 학교: 중학교 2학년                         │
│  - 거주지: 강릉 인근 농어촌 마을              │
│                                              │
│ 🎯 Goals                                    │
│  - 코딩 배우고 싶음 (파이썬)                  │
│  - 혼자서도 학습 가능한 자료 필요             │
│  - 온라인으로 체계적인 공부                   │
│                                              │
│ 😟 Pain Points                              │
│  - 학교에 코딩 수업/동아리 없음               │
│  - 집에서 학교까지 버스 40분                  │
│  - 유튜브만으로는 체계적 학습 어려움         │
│                                              │
│ 💡 Needs                                    │
│  - 단계별 가이드                              │
│  - 혼자서도 이해 가능한 설명                  │
│  - 즉시 피드백 받을 수 있는 퀴즈             │
│                                              │
│ 🖥️ Tech Savviness: ⭐⭐⭐☆☆              │
│ 📱 Devices: 가족 공용 PC, 스마트폰           │
└─────────────────────────────────────────────┘
```

---

## 2. 사용자 여정 맵 (User Journey Map)

### 여정 1: 수진의 학습 여정 (3일 집중 학습)

```mermaid
journey
    title 수진의 확률/통계 복습 여정 (3일)
    section Day 1: 인지
        중간고사 3일 전 깨달음: 1: 수진
        PopPins II 발견: 3: 수진
        "확률과 통계 기초" 입력: 4: 수진
        난이도 "초급" 선택: 4: 수진
    section Day 1: 학습 시작
        커리큘럼 확인 (3챕터): 5: 수진
        챕터1 개념 정리 읽기: 4: 수진
        실습 문제 풀기: 3: 수진
        막히는 부분 발생: 2: 수진
    section Day 2: 집중 학습
        챕터1 퀴즈로 복습: 4: 수진
        챕터2 개념 학습: 5: 수진
        실습 문제로 응용: 4: 수진
        챕터3 빠르게 훑기: 4: 수진
    section Day 3: 마무리
        전체 복습 (개념 요약): 5: 수진
        어려운 퀴즈 다시 풀기: 4: 수진
        중간고사 준비 완료: 5: 수진
        만족도: 5: 수진
```

### 여정 2: 민수의 팀 학습 자료 제작 여정

```mermaid
journey
    title 민수의 Delphi 팀 교육 자료 제작 여정 (1개월)
    section Week 1: 탐색
        레거시 업무 배정 받음: 1: 민수
        Delphi 자료 검색: 2: 민수
        PopPins II 발견: 4: 민수
        "Delphi 기초" 입력: 5: 민수
    section Week 2: 자료 생성
        초급~중급 커리큘럼 생성: 5: 민수
        팀원들과 공유: 5: 민수
        피드백 수렴: 4: 민수
        일부 챕터 재생성: 4: 민수
    section Week 3: 학습 진행
        팀원 개별 학습 시작: 4: 민수
        주간 미팅으로 진도 체크: 4: 민수
        실습 문제 같이 풀기: 5: 민수
    section Week 4: 완료
        팀 전체 학습 완료: 5: 민수
        레거시 코드 분석 시작: 5: 민수
        교육 자료 아카이빙: 5: 민수
        만족도: 5: 민수
```

---

## 3. 사용자 상호작용 흐름도

### 3.1 기본 사용자 플로우

```mermaid
flowchart TD
    Start([사용자 접속]) --> Input[학습 주제 입력]
    Input --> Options{추가 옵션 설정}
    
    Options -->|난이도| Difficulty[초급/중급/고급 선택]
    Options -->|챕터 수| Chapters[최대 챕터 수 선택]
    Options -->|설명| Description[강의 설명 입력]
    
    Difficulty --> Submit[생성 요청]
    Chapters --> Submit
    Description --> Submit
    
    Submit --> Loading[⏳ AI 생성 중...]
    Loading --> Display[📚 결과 표시]
    
    Display --> View1[📖 커리큘럼 보기]
    Display --> View2[💡 개념 정리 보기]
    Display --> View3[✏️ 실습 과제 보기]
    Display --> View4[❓ 퀴즈 보기]
    
    View1 --> Action1{다음 행동}
    View2 --> Action1
    View3 --> Action1
    View4 --> Action1
    
    Action1 -->|만족| Save[💾 저장/북마크]
    Action1 -->|불만족| Regenerate[🔄 재생성]
    Action1 -->|새 주제| Input
    
    Regenerate --> Loading
    Save --> End([학습 시작])
    
    style Start fill:#4A90E2,color:#fff
    style End fill:#7ED321,color:#fff
    style Loading fill:#F5A623,color:#fff
```

### 3.2 상세 상호작용 플로우 (챕터별 학습)

```mermaid
flowchart LR
    subgraph Chapter[챕터 학습 사이클]
        C1[📖 개념 정리 읽기] --> C2[💡 예제 코드 확인]
        C2 --> C3[✏️ 실습 문제 풀기]
        C3 --> C4[❓ 퀴즈 풀기]
        C4 --> C5{이해도 체크}
        
        C5 -->|70% 미만| C1
        C5 -->|70% 이상| Next[다음 챕터]
    end
    
    Start([학습 시작]) --> Chapter
    Next --> Complete{모든 챕터 완료?}
    Complete -->|No| Chapter
    Complete -->|Yes| Finish([학습 완료 🎉])
    
    style Start fill:#4A90E2,color:#fff
    style Finish fill:#7ED321,color:#fff
```

### 3.3 사용자-시스템 상호작용

```mermaid
sequenceDiagram
    actor User as 👤 사용자
    participant UI as 🖥️ Frontend
    participant API as ⚙️ Backend API
    participant RAG as 📚 RAG Engine
    participant AI as 🤖 Gemini AI
    
    User->>UI: 학습 주제 입력
    UI->>User: 옵션 설정 화면 표시
    User->>UI: 난이도, 챕터 수 설정
    UI->>API: POST /generate-study-material
    
    API->>RAG: PDF 교재 검색 (Top-3)
    RAG-->>API: 관련 문서 반환
    
    API->>AI: 커리큘럼 생성 (+ RAG 컨텍스트)
    AI-->>API: Course + Chapters
    
    loop 각 챕터별
        API->>RAG: 챕터 관련 문서 검색
        RAG-->>API: 관련 문서 반환
        API->>AI: 개념/실습/퀴즈 생성
        AI-->>API: Concept + Exercise + Quiz
    end
    
    API-->>UI: JSON 응답 (전체 학습 자료)
    UI->>User: 결과 표시 (카드 UI)
    
    User->>UI: 개념 정리 클릭
    UI->>User: Markdown 렌더링
    
    User->>UI: 실습 문제 풀이
    UI->>User: 피드백 (향후 기능)
```

---

## 4. 사용자 역할 및 권한

### 4.1 사용자 역할 분류

```mermaid
graph TD
    Roles[사용자 역할] --> Learner[학습자]
    Roles --> Creator[콘텐츠 생성자]
    Roles --> Admin[관리자]
    
    Learner --> L1[개인 학습자]
    Learner --> L2[팀 학습자]
    
    Creator --> C1[교사/강사]
    Creator --> C2[멘토]
    
    Admin --> A1[시스템 관리자]
    
    style Learner fill:#4A90E2,color:#fff
    style Creator fill:#7ED321,color:#fff
    style Admin fill:#F5A623,color:#fff
```

### 4.2 권한 매트릭스

| 기능               | 개인 학습자  | 팀 학습자 | 교사/강사     | 관리자   |
| ------------------ | ------------ | --------- | ------------- | -------- |
| 학습 자료 생성     | ✅            | ✅         | ✅             | ✅        |
| 학습 자료 조회     | ✅ (본인)     | ✅ (팀)    | ✅ (전체)      | ✅ (전체) |
| 학습 자료 수정     | ❌ (재생성만) | ❌         | ✅             | ✅        |
| 학습 자료 삭제     | ❌            | ❌         | ✅             | ✅        |
| 학습 히스토리 조회 | ✅ (본인)     | ✅ (본인)  | ✅ (소속 학생) | ✅ (전체) |
| 난이도 설정        | ✅            | ✅         | ✅             | ✅        |
| 커리큘럼 공유      | ❌            | ✅         | ✅             | ✅        |
| 시스템 설정        | ❌            | ❌         | ❌             | ✅        |

---

## 5. 사용자 인터랙션 패턴

### 5.1 학습 자료 생성 패턴

```
1️⃣ 빠른 생성 (Quick Generate)
   사용자: "파이썬 리스트" 입력 → 생성
   시스템: 기본 설정(중급, 3챕터)으로 즉시 생성
   
2️⃣ 상세 설정 (Custom Generate)
   사용자: 주제 + 난이도 + 챕터 수 + 설명 입력
   시스템: 맞춤형 커리큘럼 생성
   
3️⃣ 대화형 생성 (향후 기능)
   사용자: "람다 함수 배우고 싶어요"
   AI: "사전 지식이 있나요? (함수, 클로저 등)"
   사용자: "함수는 알아요"
   AI: "그럼 3챕터로 구성할게요: 기초→응용→실전"
```

### 5.2 학습 진행 패턴

```mermaid
stateDiagram-v2
    [*] --> 주제입력
    주제입력 --> 생성중
    생성중 --> 커리큘럼확인
    
    커리큘럼확인 --> 챕터1학습
    챕터1학습 --> 챕터1퀴즈
    
    챕터1퀴즈 --> 통과확인1
    통과확인1 --> 챕터2학습: 통과
    통과확인1 --> 챕터1학습: 미통과
    
    챕터2학습 --> 챕터2퀴즈
    챕터2퀴즈 --> 통과확인2
    통과확인2 --> 챕터3학습: 통과
    통과확인2 --> 챕터2학습: 미통과
    
    챕터3학습 --> 챕터3퀴즈
    챕터3퀴즈 --> 학습완료
    학습완료 --> [*]
```

---

## 6. 사용자 피드백 채널

### 6.1 피드백 수집 시점

```mermaid
graph LR
    A[생성 완료 후] --> F1[만족도 조사]
    B[학습 중] --> F2[난이도 피드백]
    C[챕터 완료 후] --> F3[유용성 평가]
    D[전체 완료 후] --> F4[종합 리뷰]
    
    F1 --> DB[(피드백 DB)]
    F2 --> DB
    F3 --> DB
    F4 --> DB
    
    DB --> Analysis[분석 및 개선]
```

### 6.2 피드백 유형

| 유형        | 수집 방법             | 활용 목적        |
| ----------- | --------------------- | ---------------- |
| 만족도      | ⭐⭐⭐⭐⭐ (5점 척도)      | 전반적 품질 평가 |
| 난이도      | 너무 쉬움/적절/어려움 | 난이도 조정      |
| 유용성      | 실습 문제 도움 여부   | 콘텐츠 개선      |
| 버그 리포트 | 오류 발견 시 제출     | 시스템 안정성    |

---

## 7. 사용자 행동 분석

### 7.1 예상 사용 패턴

```mermaid
pie title 사용자 유형별 분포 (예상)
    "개인 학습자 (수진 유형)" : 45
    "직장인/리스킬링 (민수 유형)" : 30
    "교사/강사 (윤지 유형)" : 15
    "학생/청소년 (준호 유형)" : 10
```

### 7.2 학습 자료 생성 빈도 (예상)

```mermaid
gantt
    title 사용자별 학습 자료 생성 빈도
    dateFormat YYYY-MM-DD
    section 개인 학습자
    주 1-2회 사용    :active, 2024-01-01, 30d
    section 직장인
    월 2-3회 사용    :active, 2024-01-01, 30d
    section 교사
    학기당 5-10회    :crit, 2024-01-01, 120d
```

---

## 8. 접근성 (Accessibility)

### 8.1 다양한 사용자 지원

| 사용자 그룹   | 지원 방안               |
| ------------- | ----------------------- |
| 시각 장애인   | 스크린 리더 호환 (향후) |
| 색맹 사용자   | 색상 대비 고려          |
| 저속 인터넷   | 최소 데이터 전송        |
| 모바일 사용자 | 반응형 디자인 (향후)    |

---

## 📚 참고 문서

- [통합 기획 문서](./pop_pins_ii_planning_document.md)
- [PRD](./pop_pins_ii_prd.md)
- [원본 PWD](./PWD_어딧세이.md)

---

**문서 버전**: 1.4.2  
**최종 수정일**: 2025-11-22  
**작성자**: 이진걸  
**상태**: 작성 완료
