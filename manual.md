# PopPins II 사용설명서

**AI 기반 학습 자료 자동 생성 플랫폼**

이 가이드는 PopPins II를 처음 사용하는 분들을 위한 단계별 사용 설명서입니다. 프로그래밍 지식이 없어도 따라할 수 있도록 작성되었습니다.

---

## 📋 목차

1. [시작하기](#시작하기)
2. [기본 사용법](#기본-사용법)
3. [주요 기능](#주요-기능)
4. [RAG 벡터 DB 생성하기](#rag-벡터-db-생성하기) (고급)
5. [문제 해결](#문제-해결)
6. [자주 묻는 질문](#자주-묻는-질문)

---

## 🚀 시작하기

### 필요한 것

- 인터넷 연결
- 웹 브라우저 (Chrome, Edge, Firefox 등)
- 학습하고 싶은 주제

### 접속 방법

1. 브라우저를 엽니다
2. 주소창에 `http://localhost:5173` 입력 (또는 제공된 주소)
3. Enter 키를 누릅니다

> **참고**: 서버가 실행되지 않았다면 개발자에게 문의하세요.

---

## 📖 기본 사용법

### 1단계: 학습 주제 입력

메인 화면에서 다음 정보를 입력합니다:

#### 학습 주제
- **예시**: "파이썬 리스트", "리액트 기초", "데이터베이스 설계"
- 배우고 싶은 주제를 한 줄로 입력합니다

#### 난이도 선택
- **초급**: 처음 배우는 주제
- **중급**: 기본 개념은 알고 있는 주제 (기본값)
- **고급**: 심화 내용을 원하는 주제

#### 챕터 수
- 1~10 사이의 숫자 입력
- **권장**: 처음에는 3~5개로 시작

#### 생성하기
- "학습 자료 생성하기" 버튼을 클릭합니다
- 약 10~20초 정도 기다립니다 (AI가 커리큘럼을 만드는 시간)

### 2단계: 커리큘럼 확인

생성이 완료되면 학습 커리큘럼 화면이 나타납니다:

- **제목**: 입력한 학습 주제
- **챕터 목록**: 각 챕터의 제목과 설명이 표시됩니다
- **챕터 번호**: "Chapter 1 / 4" 형식으로 표시

#### 챕터 선택하기
- 학습하고 싶은 챕터를 클릭합니다
- 챕터를 클릭하면 상세 내용이 생성됩니다 (처음에는 약 15초 소요)

### 3단계: 학습하기

챕터 상세 화면에서 3가지 탭을 이용할 수 있습니다:

#### 📚 개념 학습 탭
- 챕터의 핵심 개념을 설명합니다
- 약 1000~1200자 분량의 상세한 설명
- 코드 예시가 포함될 수 있습니다

**사용 팁**:
- 천천히 읽으며 이해합니다
- 코드 예시는 실제로 따라해볼 수 있습니다
- 이해가 안 되는 부분은 다시 읽어봅니다

#### 💻 실습 과제 탭
- 배운 개념을 직접 연습할 수 있는 문제 3개
- 단계별로 구성되어 있습니다

**사용 팁**:
- 문제를 읽고 직접 코드를 작성해봅니다
- 정답이 없으므로 여러 방법을 시도해봅니다
- 막히면 개념 학습 탭으로 돌아가 다시 확인합니다

#### ❓ 퀴즈 탭
- 학습 내용을 점검하는 주관식 문제 3개
- 답변을 작성하고 AI로 채점받을 수 있습니다

**사용 방법**:
1. 문제를 읽습니다
2. 텍스트 박스에 답변을 입력합니다
3. "✓ 채점하기" 버튼을 클릭합니다
4. 약 5~10초 후 채점 결과가 표시됩니다

**채점 결과 확인**:
- **점수**: 0~100점으로 표시됩니다
- **피드백**: 전체적인 평가와 조언
- **✓ 잘한 점**: 답변에서 좋았던 부분
- **📝 개선할 점**: 더 보완하면 좋을 부분

**다시 답변하기**:
- 채점 결과 아래 "다시 답변하기" 버튼을 클릭
- 답변을 수정하고 다시 채점받을 수 있습니다

---

## 🎯 주요 기능

### 챕터 이동

#### 다음 챕터로 이동
- 화면 하단의 "다음 챕터" 버튼 클릭
- 다음 챕터의 내용이 자동으로 로드됩니다

#### 이전 챕터로 이동
- 화면 하단의 "이전 챕터" 버튼 클릭
- 이전 챕터의 내용이 표시됩니다

#### 커리큘럼으로 돌아가기
- 화면 상단 왼쪽의 ← (뒤로가기) 아이콘 클릭
- 챕터 목록 화면으로 돌아갑니다

### 챕터 다운로드

1. 챕터 상세 화면 상단의 "📥 다운로드" 버튼 클릭
2. 자동으로 Markdown(.md) 파일이 다운로드됩니다
3. 다운로드된 파일에는 다음이 포함됩니다:
   - 챕터 제목과 설명
   - 개념 학습 내용
   - 실습 과제
   - 퀴즈 문제

**파일 사용법**:
- 텍스트 에디터로 열어서 읽을 수 있습니다
- 인쇄하여 오프라인에서 학습할 수 있습니다
- 다른 사람과 공유할 수 있습니다

### 캐싱 기능 (자동)

- 한 번 생성된 챕터는 자동으로 저장됩니다
- 같은 챕터를 다시 방문하면 즉시 표시됩니다 (재생성 없음)
- 서버를 재시작하면 저장된 내용이 초기화됩니다

---

## 🔍 RAG 벡터 DB 생성하기

> **참고**: 이 섹션은 고급 사용자를 위한 내용입니다. RAG 기능을 사용하지 않으면 이 단계를 건너뛰어도 됩니다.

RAG(Retrieval-Augmented Generation) 기능을 사용하면 AI가 교재 PDF 내용을 참고하여 더 정확한 학습 자료를 생성할 수 있습니다.

### RAG란?

RAG는 AI가 생성하는 내용의 정확성을 높이기 위해 교재 PDF를 벡터 데이터베이스에 저장하고, 관련 내용을 자동으로 검색하여 참고하는 기술입니다.

### 벡터 DB 생성 방법

#### 1. 필요한 패키지 설치

```bash
cd "RAG vector generator"
pip install -r requirements.txt langchain-google-genai
```

#### 2. 환경 변수 설정

`RAG vector generator` 폴더에 `.env` 파일을 생성하고 Gemini API 키를 입력하세요:

```env
GEMINI_API_KEY=your-gemini-api-key-here
```

#### 3. PDF 파일 준비

`RAG vector generator/pdfs` 폴더에 파이썬 교재 PDF 파일들을 넣어주세요.

#### 4. 벡터 DB 생성

```bash
python python_textbook_rag_generator.py --db-name python_textbook_gemini_db_semantic --embedding-model gemini
```

이 명령을 실행하면:
- `pdfs` 폴더의 모든 PDF 파일을 읽습니다
- 각 PDF를 작은 텍스트 조각(청크)으로 나눕니다
- 각 청크를 벡터로 변환하여 데이터베이스에 저장합니다
- 생성된 벡터 DB는 `Pop-pins2/vector_db/` 폴더에 저장됩니다

#### 5. 생성 완료 확인

생성이 완료되면 다음 파일들이 생성됩니다:
- `vector_db/python_textbook_gemini_db_semantic/index.faiss` - 벡터 인덱스 파일
- `vector_db/python_textbook_gemini_db_semantic/index.pkl` - 메타데이터 파일
- `vector_db/python_textbook_gemini_db_semantic_metadata.json` - 처리된 파일 목록

#### 6. (선택사항) 벡터 DB 품질 개선

v1.4.0부터는 벡터 DB 생성 시 자동으로 다음 필터링 및 클리닝이 적용됩니다:
- **페이지 필터링**: 목차, 색인, 저작권 페이지 등 불필요한 페이지 제외
- **텍스트 클리닝**: 페이지 헤더/푸터(페이지 번호 등) 제거, 불필요한 공백 정리

이 기능은 `python_textbook_rag_generator.py`에 내장되어 있으며, 별도 설정 없이 적용됩니다.

### 벡터 DB 사용하기

벡터 DB가 생성되면, `app/.env` 파일에서 다음 설정을 확인하세요:

```env
USE_RAG=true
VECTOR_DB_PATH=../vector_db/python_textbook_gemini_db_semantic
VECTOR_DB_EMBEDDING_MODEL=gemini
```

이제 백엔드를 실행하면 RAG 기능이 활성화되어, AI가 교재 내용을 참고하여 더 정확한 학습 자료를 생성합니다.

### 자주 묻는 질문

**Q: 벡터 DB 생성에 시간이 얼마나 걸리나요?**
A: PDF 파일 수와 크기에 따라 다릅니다. 일반적으로 10개 정도의 PDF 파일은 10~30분 정도 소요됩니다.

**Q: PDF 파일을 추가하고 싶어요.**
A: `pdfs` 폴더에 새 PDF를 추가하고 벡터 DB 생성 명령을 다시 실행하면 됩니다. 이미 처리된 파일은 자동으로 건너뜁니다.

**Q: 벡터 DB를 다시 생성해야 하나요?**
A: PDF 파일을 추가하거나 수정한 경우에만 다시 생성하면 됩니다. 그 외에는 한 번 생성하면 계속 사용할 수 있습니다.

자세한 내용은 [`RAG vector generator/README.md`](./RAG%20vector%20generator/README.md)를 참고하세요.

---

## 🔧 문제 해결

### 문제: "학습 자료 생성하기" 버튼을 눌렀는데 아무 반응이 없어요

**해결 방법**:
1. 브라우저 콘솔 확인 (F12 키 → Console 탭)
2. 에러 메시지가 있으면 개발자에게 알려주세요
3. 페이지를 새로고침 (F5) 후 다시 시도

### 문제: 챕터를 클릭했는데 계속 로딩 중이에요

**가능한 원인**:
- AI가 콘텐츠를 생성하는 중입니다 (최대 30초 소요)
- 서버 연결 문제

**해결 방법**:
1. 잠시 기다려봅니다 (최대 30초)
2. 그래도 안 되면 페이지를 새로고침
3. 서버가 실행 중인지 확인 (개발자에게 문의)

### 문제: 퀴즈 채점이 실패했어요

**해결 방법**:
1. 답변이 너무 짧지 않은지 확인 (최소 10자 이상 권장)
2. 잠시 후 다시 시도
3. 답변을 조금 수정하여 다시 채점

### 문제: 코드 블록이 제대로 보이지 않아요

**해결 방법**:
1. 브라우저를 최신 버전으로 업데이트
2. 페이지를 새로고침 (Ctrl + F5)
3. 다른 브라우저에서 시도

### 문제: 다운로드가 안 돼요

**해결 방법**:
1. 브라우저의 팝업 차단 설정 확인
2. 다운로드 폴더 권한 확인
3. 다른 브라우저에서 시도

---

## ❓ 자주 묻는 질문

### Q1. 생성된 학습 자료는 어디에 저장되나요?

**A**: 현재는 서버 메모리에만 저장됩니다. 서버를 재시작하면 사라집니다. 영구 저장을 원하면 "다운로드" 기능을 사용하세요.

### Q2. 같은 주제로 여러 번 생성하면 내용이 달라지나요?

**A**: 네, AI가 생성하는 내용이므로 매번 조금씩 다를 수 있습니다. 같은 주제라도 다양한 관점으로 학습할 수 있습니다.

### Q3. 퀴즈 점수가 낮게 나왔어요. 어떻게 개선하나요?

**A**: 채점 결과의 "📝 개선할 점"을 참고하여 답변을 보완하세요. "다시 답변하기" 버튼으로 수정 후 재채점할 수 있습니다.

### Q4. 챕터를 건너뛰고 다음 챕터로 갈 수 있나요?

**A**: 네, 언제든지 "다음 챕터" 버튼으로 이동할 수 있습니다. 나중에 다시 돌아와서 학습할 수 있습니다.

### Q5. 생성된 내용을 수정할 수 있나요?

**A**: 현재는 수정 기능이 없습니다. 다만, 같은 주제로 다시 생성하면 다른 내용을 얻을 수 있습니다.

### Q6. 오프라인에서 사용할 수 있나요?

**A**: 다운로드한 파일은 오프라인에서 읽을 수 있습니다. 하지만 새로운 자료 생성이나 채점 기능은 인터넷 연결이 필요합니다.

### Q7. 한 번에 여러 챕터를 생성할 수 있나요?

**A**: 네, "챕터 수"를 늘리면 여러 챕터가 한 번에 생성됩니다. 하지만 각 챕터의 상세 내용은 클릭할 때 생성됩니다.

### Q8. 생성된 내용의 정확도는 어떤가요?

**A**: AI가 생성한 내용이므로 100% 정확하지 않을 수 있습니다. 참고 자료로 활용하고, 중요한 내용은 공식 문서나 교재로 확인하세요.

---

## 💡 학습 팁

### 효과적인 학습 방법

1. **순서대로 학습하기**
   - 챕터는 순서대로 학습하는 것을 권장합니다
   - 이전 챕터의 내용이 다음 챕터의 기초가 됩니다

2. **활발히 활용하기**
   - 개념 학습 → 실습 과제 → 퀴즈 순서로 진행
   - 각 단계를 완료한 후 다음으로 넘어갑니다

3. **반복 학습**
   - 이해가 안 되는 부분은 다시 읽어봅니다
   - 퀴즈를 여러 번 풀어보며 이해도를 높입니다

4. **노트 작성**
   - 중요한 내용은 따로 정리합니다
   - 다운로드한 파일을 참고 자료로 활용합니다

5. **실습 중심**
   - 코드 예시를 직접 따라해봅니다
   - 실습 과제를 완전히 이해할 때까지 연습합니다

### 추천 학습 흐름

```
1. 커리큘럼 확인 (전체 구조 파악)
   ↓
2. 개념 학습 읽기 (핵심 개념 이해)
   ↓
3. 실습 과제 풀기 (직접 코드 작성)
   ↓
4. 퀴즈 풀기 (이해도 점검)
   ↓
5. 다음 챕터로 이동
```

---

## 📞 도움말

### 추가 도움이 필요하신가요?

- **기술적 문제**: 개발자에게 문의
- **사용법 문의**: 이 매뉴얼을 다시 확인
- **기능 제안**: 개발팀에 피드백 제공

---

## 📝 버전 정보

- **현재 버전**: v1.5.0
- **최종 업데이트**: 2025-11-24
- **주요 기능**: AI 기반 학습 자료 생성, 퀴즈 채점, 챕터 다운로드

---

**행운을 빕니다! 즐거운 학습 되세요! 🎓**

